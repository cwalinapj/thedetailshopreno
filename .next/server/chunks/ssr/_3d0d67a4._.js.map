{"version":3,"sources":["../../../../node_modules/next/src/shared/lib/image-external.tsx","../../../../node_modules/next/image.js","../../../../src/components/InstagramGallery.tsx"],"sourcesContent":["import type { ImageConfigComplete, ImageLoaderProps } from './image-config'\nimport type { ImageProps, ImageLoader, StaticImageData } from './get-img-props'\n\nimport { getImgProps } from './get-img-props'\nimport { Image } from '../../client/image-component'\n\n// This is replaced by webpack alias\nimport defaultLoader from 'next/dist/shared/lib/image-loader'\n\n/**\n * For more advanced use cases, you can call `getImageProps()`\n * to get the props that would be passed to the underlying `<img>` element,\n * and instead pass to them to another component, style, canvas, etc.\n *\n * Read more: [Next.js docs: `getImageProps`](https://nextjs.org/docs/app/api-reference/components/image#getimageprops)\n */\nexport function getImageProps(imgProps: ImageProps) {\n  const { props } = getImgProps(imgProps, {\n    defaultLoader,\n    // This is replaced by webpack define plugin\n    imgConf: process.env.__NEXT_IMAGE_OPTS as any as ImageConfigComplete,\n  })\n  // Normally we don't care about undefined props because we pass to JSX,\n  // but this exported function could be used by the end user for anything\n  // so we delete undefined props to clean it up a little.\n  for (const [key, value] of Object.entries(props)) {\n    if (value === undefined) {\n      delete props[key as keyof typeof props]\n    }\n  }\n  return { props }\n}\n\nexport default Image\n\nexport type { ImageProps, ImageLoaderProps, ImageLoader, StaticImageData }\n","module.exports = require('./dist/shared/lib/image-external')\n","'use client';\n\nimport {useState, useEffect} from 'react';\nimport {useTranslations} from 'next-intl';\nimport Image from 'next/image';\n\ninterface InstagramPost {\n  id: string;\n  media_type: 'IMAGE' | 'VIDEO' | 'CAROUSEL_ALBUM';\n  media_url: string;\n  thumbnail_url?: string;\n  permalink: string;\n  caption?: string;\n  timestamp: string;\n}\n\ninterface InstagramGalleryProps {\n  accessToken?: string;\n  limit?: number;\n  className?: string;\n}\n\n// For static export, we'll use pre-fetched data or a fallback\nexport default function InstagramGallery({\n  accessToken,\n  limit = 12,\n  className = '',\n}: InstagramGalleryProps) {\n  const t = useTranslations('portfolio');\n  const [posts, setPosts] = useState<InstagramPost[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      const token = accessToken || process.env.NEXT_PUBLIC_INSTAGRAM_ACCESS_TOKEN;\n\n      if (!token) {\n        setError('Instagram access token not configured');\n        setLoading(false);\n        return;\n      }\n\n      try {\n        const response = await fetch(\n          `https://graph.instagram.com/me/media?fields=id,media_type,media_url,thumbnail_url,permalink,caption,timestamp&limit=${limit}&access_token=${token}`\n        );\n\n        if (!response.ok) {\n          throw new Error('Failed to fetch Instagram posts');\n        }\n\n        const data = await response.json();\n        setPosts(data.data || []);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Unknown error');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchPosts();\n  }, [accessToken, limit]);\n\n  if (loading) {\n    return (\n      <div className={`instagram-gallery loading ${className}`}>\n        <div className=\"gallery-grid\">\n          {Array.from({length: limit}).map((_, i) => (\n            <div key={i} className=\"gallery-item skeleton\" />\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  if (error || posts.length === 0) {\n    // Fallback to placeholder gallery\n    return (\n      <div className={`instagram-gallery fallback ${className}`}>\n        <div className=\"gallery-grid\">\n          {Array.from({length: limit}).map((_, i) => (\n            <div key={i} className=\"gallery-item placeholder\">\n              <div className=\"placeholder-content\">\n                <span>Portfolio Image</span>\n              </div>\n            </div>\n          ))}\n        </div>\n        <p className=\"instagram-cta\">\n          Follow us on{' '}\n          <a\n            href=\"https://www.instagram.com/supremexdetail/\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Instagram\n          </a>{' '}\n          for more!\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`instagram-gallery ${className}`}>\n      <div className=\"gallery-grid\">\n        {posts.map((post) => (\n          <a\n            key={post.id}\n            href={post.permalink}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"gallery-item\"\n            data-gtm-action=\"instagram_click\"\n            data-gtm-label={post.id}\n          >\n            <Image\n              src={post.media_type === 'VIDEO' ? post.thumbnail_url || post.media_url : post.media_url}\n              alt={post.caption?.slice(0, 100) || 'Auto detailing work'}\n              width={300}\n              height={300}\n              className=\"gallery-image\"\n              loading=\"lazy\"\n            />\n            {post.media_type === 'VIDEO' && (\n              <div className=\"video-indicator\">\n                <PlayIcon />\n              </div>\n            )}\n          </a>\n        ))}\n      </div>\n      <p className=\"instagram-cta\">\n        Follow us on{' '}\n        <a\n          href=\"https://www.instagram.com/supremexdetail/\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          @supremexdetail\n        </a>\n      </p>\n    </div>\n  );\n}\n\nfunction PlayIcon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      fill=\"currentColor\"\n    >\n      <polygon points=\"5 3 19 12 5 21 5 3\" />\n    </svg>\n  );\n}\n"],"names":["getImageProps","imgProps","props","getImgProps","defaultLoader","imgConf","process","env","__NEXT_IMAGE_OPTS","key","value","Object","entries","undefined","Image"],"mappings":"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","ignoreList":[0,1]}